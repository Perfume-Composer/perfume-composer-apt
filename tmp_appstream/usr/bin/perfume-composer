#!/bin/bash
USER_BASE="$HOME/.local/share/PerfumeComposer"
USER_README_DIR="$USER_BASE/ReadMe"
SYSTEM_README_DIR="/usr/share/perfume-composer/ReadMe"
REAL_BIN="/usr/share/perfume-composer/perfume-composer"
FIRST_RUN_FILE="$USER_BASE/.first_run_done"

if [ ! -f "$FIRST_RUN_FILE" ]; then
    mkdir -p "$USER_README_DIR"
    if [ -d "$SYSTEM_README_DIR" ]; then
        cp -r "$SYSTEM_README_DIR"/* "$USER_README_DIR/"
    fi
    touch "$FIRST_RUN_FILE"
fi

# Handle command-line options
if [[ "$1" == "--version" ]]; then
    echo "Perfume Composer version 1.0.0"
    exit 0
fi

exec "$REAL_BIN" "$@"
